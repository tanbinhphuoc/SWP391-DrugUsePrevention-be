2025-06-28 22:14:35.303 +07:00 [INF] Updated ReturnUrl to: https://4465-2405-4802-8012-15b0-71b6-1cf0-27aa-442.ngrok-free.app/api/vnpay/return
2025-06-28 22:14:35.964 +07:00 [INF] Start installing Hangfire SQL objects...
2025-06-28 22:14:38.089 +07:00 [INF] Hangfire SQL objects installed.
2025-06-28 22:14:39.833 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Course'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-28 22:14:40.913 +07:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: LAPTOP-QLC4GKI0\SQLEXPRESS@DrugUsePreventionDB'
2025-06-28 22:14:40.915 +07:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-06-28 22:14:40.917 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-28 22:14:41.009 +07:00 [INF] Server laptop-qlc4gki0:14240:6b53dd8b successfully announced in 64.4393 ms
2025-06-28 22:14:41.018 +07:00 [INF] Server laptop-qlc4gki0:14240:6b53dd8b is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-28 22:14:41.153 +07:00 [INF] Server laptop-qlc4gki0:14240:6b53dd8b all the dispatchers started
2025-06-28 22:16:43.804 +07:00 [INF] Updated ReturnUrl to: https://4465-2405-4802-8012-15b0-71b6-1cf0-27aa-442.ngrok-free.app/api/vnpay/return
2025-06-28 22:16:44.319 +07:00 [INF] Start installing Hangfire SQL objects...
2025-06-28 22:16:45.591 +07:00 [INF] Hangfire SQL objects installed.
2025-06-28 22:16:47.475 +07:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Course'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-06-28 22:16:48.323 +07:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: LAPTOP-QLC4GKI0\SQLEXPRESS@DrugUsePreventionDB'
2025-06-28 22:16:48.325 +07:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-06-28 22:16:48.338 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-06-28 22:16:48.421 +07:00 [INF] Server laptop-qlc4gki0:10704:5f904799 successfully announced in 52.9335 ms
2025-06-28 22:16:48.470 +07:00 [INF] Server laptop-qlc4gki0:10704:5f904799 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-06-28 22:16:48.757 +07:00 [INF] Server laptop-qlc4gki0:10704:5f904799 all the dispatchers started
2025-06-28 22:21:33.385 +07:00 [WRN] Failed to determine the https port for redirect.
2025-06-28 22:21:48.669 +07:00 [INF] 1 servers were removed due to timeout
2025-06-28 22:21:58.534 +07:00 [INF] JWT Token validated successfully for user: KingKaka, Roles: Member, Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 20, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: KingKaka, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: buitham8758@gmail.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Member, nbf: 1751124094, exp: 1751210494, iat: 1751124094, iss: DrugUsePreventionAPI, aud: DrugUsePreventionClient
2025-06-28 22:21:59.093 +07:00 [INF] Retrieving available consultants
2025-06-28 22:21:59.394 +07:00 [INF] Retrieved 4 available consultants
2025-06-28 22:22:42.944 +07:00 [INF] Retrieving available consultants
2025-06-28 22:22:42.985 +07:00 [INF] Retrieved 4 available consultants
2025-06-28 23:32:30.410 +07:00 [INF] JWT Token validated successfully for user: KingKaka, Roles: Member, Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 20, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: KingKaka, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: buitham8758@gmail.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Member, nbf: 1751124094, exp: 1751210494, iat: 1751124094, iss: DrugUsePreventionAPI, aud: DrugUsePreventionClient
2025-06-28 23:34:57.363 +07:00 [INF] JWT Token validated successfully for user: KingKaka, Roles: Member, Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 20, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: KingKaka, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: buitham8758@gmail.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Member, nbf: 1751124094, exp: 1751210494, iat: 1751124094, iss: DrugUsePreventionAPI, aud: DrugUsePreventionClient
2025-06-28 23:35:13.208 +07:00 [INF] JWT Token validated successfully for user: KingKaka, Roles: Member, Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 20, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: KingKaka, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: buitham8758@gmail.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Member, nbf: 1751124094, exp: 1751210494, iat: 1751124094, iss: DrugUsePreventionAPI, aud: DrugUsePreventionClient
2025-06-28 23:35:37.277 +07:00 [INF] JWT Token validated successfully for user: KingKaka, Roles: Member, Claims: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier: 20, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name: KingKaka, http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress: buitham8758@gmail.com, http://schemas.microsoft.com/ws/2008/06/identity/claims/role: Member, nbf: 1751124094, exp: 1751210494, iat: 1751124094, iss: DrugUsePreventionAPI, aud: DrugUsePreventionClient
2025-06-28 23:36:37.479 +07:00 [ERR] JWT Authentication failed: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(ReadOnlySpan`1 strSpan, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(ReadOnlySpan`1 strSpan, Int32 startIndex, Int32 length, Boolean createHeaderClaimSet)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
2025-06-28 23:36:37.825 +07:00 [INF] Retrieving available consultants
2025-06-28 23:36:38.070 +07:00 [INF] Retrieved 4 available consultants
